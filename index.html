<!doctype html>
<meta charset="utf-8">
<title>The Life of a Knight</title>
<body>
<script src="pixi.js"></script>
<script>

//Aliases
let Application = PIXI.Application,
    Container = PIXI.Container,
    loader = PIXI.loader,
    resources = PIXI.loader.resources,
    TextureCache = PIXI.utils.TextureCache,
    Sprite = PIXI.Sprite,
    Rectangle = PIXI.Rectangle;

//Create a Pixi Application
let app = new Application({ 
    width: 850, 
    height: 650,                       
    antialias: true, 
    transparent: false, 
    resolution: 1
  }
);

document.body.appendChild(app.view);

loader
	.add("images/Knightlife.json")
	.load(setup);

let Dungeon, Knight, gorgon, treasure;

function setup() {
	//We are accessing the Texture cache directly
	let dungeonTexture = TextureCache["Dungeon.png"];
	Dungeon = new Sprite(dungeonTexture);
	app.stage.addChild(Dungeon);
	//It's loading the dungeon icon we made for it. 

 	Knight = new Sprite(
 		resources["images/Knightlife.json"].textures["knight.png"]);

 	Knight.width = 150;
 	Knight.height = 150;
 	 //adjustings the Knight's height so he ddoesn't take up the whole screen. 

 	Knight.x = 68;
 	//Here we begin to center the knight's position 
 	Knight.y = app.stage.height / 2 - Knight.height / 2;
 	app.stage.addChild(Knight);

 	//Better positioning 
 	//Here we are creating an optional alias called id for al lthe texture alias 
 	id = PIXI.loader.resources["images/Knightlife.json"].textures;

 	//Here we are uploading the treasure png we made. 
 	treasure = new Sprite(id["treasure.png"]);
 	app.stage.addChild(treasure);

 	//Same as we did earlier, we now position the treasure to the far right of the screen. 
 	treasure.x = app.stage.width - treasure.width - 48;
 	treasure.y = app.stage.height / 2 - treasure.height / 2;
 	app.stage.addChild(treasure);

 	//Treasure image was too big, so we shrunk it. But we still want it to be a bit more inviting with it's size. 
 	treasure.width = 50;
 	treasure.height = 50;

 	//Now we make the bad guys the gorgon
 	let numberofBads = 8,
 	spacing = 50,
 	xOffset = 250;

 	//Here we make as many bad guys as we set.
 	for(let i = 0; i < numberofBads; i++) {
 		//Here we make the gorgon, monster
 		let gorgon = new Sprite(id["gorgon.gif"])

 		//Now we start spacing each gorgon apart from each other.
 		let x = spacing * i + xOffset;

 		//Now we give the gorgon's random blob position on the Y axis.
 		let y = randomInt(0, app.stage.height - gorgon.height);

 		//set the gorgon's position
 		blob.x = x;
 		blob.y = y;

 		//Now we add the gorgon sprite to the screen.
 		app.stage.addChild(gorgon);
 	}

}

function randomInt(min, max){
	return Math.floor(Math.random()*(max - min + 1)) + min;
} 

</script>
</body>